2019-10-08 09:23:50,698 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 1461 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:23:50,709 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:23:50,710 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:23:57,469 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 7.273 seconds (JVM running for 9.309)
2019-10-08 09:24:54,092 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 1698 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:24:54,094 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:24:54,094 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:25:00,985 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 7.604 seconds (JVM running for 9.21)
2019-10-08 09:26:50,142 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 2085 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:26:50,144 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:26:50,144 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:26:55,902 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.383 seconds (JVM running for 7.957)
2019-10-08 09:40:27,184 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 4774 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:40:27,187 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:40:27,187 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:40:34,061 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 7.463 seconds (JVM running for 9.097)
2019-10-08 09:40:34,524 INFO com.danapprentech.promotion.controllers.CouponController [main] try to get coupon recommendation
2019-10-08 09:40:34,547 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(128321421<open>)
2019-10-08 09:40:34,834 INFO com.danapprentech.promotion.controllers.CouponController [main] Get coupon recommendation failed with member id: USR-88
2019-10-08 09:43:04,122 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 5285 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:43:04,123 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:43:04,123 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:43:09,684 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.234 seconds (JVM running for 7.621)
2019-10-08 09:43:10,012 INFO com.danapprentech.promotion.controllers.CouponController [main] try to get detail coupon
2019-10-08 09:43:10,066 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(610744096<open>)
2019-10-08 09:43:10,070 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] start query from Coupon where coupon_id = '01' 
2019-10-08 09:43:10,311 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.getCouponDetailsById(CouponRepository.java:53), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$84d0b8d2.getCouponDetailsById(<generated>), com.danapprentech.promotion.services.implementations.CouponService.getCouponDetailsById(CouponService.java:22), com.danapprentech.promotion.controllers.CouponController.getCouponDetailBasedOnCouponID(CouponController.java:52), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897), javax.servlet.http.HttpServlet.service(HttpServlet.java:634), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182), com.danapprentech.promotion.test.controller.ControllerTest.getCouponDetailTest_Error(ControllerTest.java:90), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59), org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12), org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56), org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17), org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74), org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84), org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26), org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75), org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86), org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84), org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:365), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97), org.junit.runners.ParentRunner$4.run(ParentRunner.java:330), org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:78), org.junit.runners.ParentRunner.runChildren(ParentRunner.java:328), org.junit.runners.ParentRunner.access$100(ParentRunner.java:65), org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:292), org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61), org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70), org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:305), org.junit.runners.ParentRunner.run(ParentRunner.java:412), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190), org.junit.runner.JUnitCore.run(JUnitCore.java:137), com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68), com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47), com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242), com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)]
2019-10-08 09:43:10,315 INFO com.danapprentech.promotion.controllers.CouponController [main] coupon does not exist with coupon id: 01
2019-10-08 09:43:56,425 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 5460 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:43:56,427 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:43:56,427 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:44:02,223 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.465 seconds (JVM running for 7.863)
2019-10-08 09:44:19,652 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 5539 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:44:19,654 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:44:19,654 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:44:25,874 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 7.064 seconds (JVM running for 8.579)
2019-10-08 09:44:45,052 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 5633 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:44:45,055 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:44:45,055 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:44:50,721 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.341 seconds (JVM running for 7.923)
2019-10-08 09:44:51,025 INFO com.danapprentech.promotion.controllers.CouponController [main] try to get detail coupon
2019-10-08 09:44:51,039 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(685195329<open>)
2019-10-08 09:44:51,041 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] start query from Coupon where coupon_id = 'xxx' 
2019-10-08 09:44:51,162 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.getCouponDetailsById(CouponRepository.java:53), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$1eea50d6.getCouponDetailsById(<generated>), com.danapprentech.promotion.services.implementations.CouponService.getCouponDetailsById(CouponService.java:22), com.danapprentech.promotion.controllers.CouponController.getCouponDetailBasedOnCouponID(CouponController.java:52), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897), javax.servlet.http.HttpServlet.service(HttpServlet.java:634), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182), com.danapprentech.promotion.test.controller.ControllerTest.getCouponDetailTest_Empty(ControllerTest.java:74), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59), org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12), org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56), org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17), org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74), org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84), org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26), org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75), org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86), org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84), org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:365), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97), org.junit.runners.ParentRunner$4.run(ParentRunner.java:330), org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:78), org.junit.runners.ParentRunner.runChildren(ParentRunner.java:328), org.junit.runners.ParentRunner.access$100(ParentRunner.java:65), org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:292), org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61), org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70), org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:305), org.junit.runners.ParentRunner.run(ParentRunner.java:412), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190), org.junit.runner.JUnitCore.run(JUnitCore.java:137), com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68), com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47), com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242), com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)]
2019-10-08 09:44:51,165 INFO com.danapprentech.promotion.controllers.CouponController [main] coupon does not exist with coupon id: xxx
2019-10-08 09:45:20,078 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 5743 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:45:20,080 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:45:20,080 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:45:27,352 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 7.781 seconds (JVM running for 10.188)
2019-10-08 09:45:27,786 INFO com.danapprentech.promotion.controllers.CouponController [main] try to get detail coupon
2019-10-08 09:45:27,811 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(1071199024<open>)
2019-10-08 09:45:27,813 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] start query from Coupon where coupon_id = 'xxx' 
2019-10-08 09:45:27,961 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.getCouponDetailsById(CouponRepository.java:53), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$f3534f96.getCouponDetailsById(<generated>), com.danapprentech.promotion.services.implementations.CouponService.getCouponDetailsById(CouponService.java:22), com.danapprentech.promotion.controllers.CouponController.getCouponDetailBasedOnCouponID(CouponController.java:52), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897), javax.servlet.http.HttpServlet.service(HttpServlet.java:634), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182), com.danapprentech.promotion.test.controller.ControllerTest.getCouponDetailTest_Empty(ControllerTest.java:74), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59), org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12), org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56), org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17), org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74), org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84), org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26), org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75), org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86), org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84), org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:365), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97), org.junit.runners.ParentRunner$4.run(ParentRunner.java:330), org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:78), org.junit.runners.ParentRunner.runChildren(ParentRunner.java:328), org.junit.runners.ParentRunner.access$100(ParentRunner.java:65), org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:292), org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61), org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70), org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:305), org.junit.runners.ParentRunner.run(ParentRunner.java:412), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190), org.junit.runner.JUnitCore.run(JUnitCore.java:137), com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68), com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47), com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242), com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)]
2019-10-08 09:45:27,964 INFO com.danapprentech.promotion.controllers.CouponController [main] coupon does not exist with coupon id: xxx
2019-10-08 09:45:49,238 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 5854 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:45:49,240 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:45:49,240 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:45:54,859 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.271 seconds (JVM running for 7.719)
2019-10-08 09:45:55,205 INFO com.danapprentech.promotion.controllers.CouponController [main] try to get detail coupon
2019-10-08 09:45:55,221 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(93518808<open>)
2019-10-08 09:45:55,223 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] start query from Coupon where coupon_id = 'xxx' 
2019-10-08 09:45:55,374 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.getCouponDetailsById(CouponRepository.java:53), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$de59361d.getCouponDetailsById(<generated>), com.danapprentech.promotion.services.implementations.CouponService.getCouponDetailsById(CouponService.java:22), com.danapprentech.promotion.controllers.CouponController.getCouponDetailBasedOnCouponID(CouponController.java:52), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897), javax.servlet.http.HttpServlet.service(HttpServlet.java:634), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182), com.danapprentech.promotion.test.controller.ControllerTest.getCouponDetailTest_Empty(ControllerTest.java:74), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59), org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12), org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56), org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17), org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74), org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84), org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26), org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75), org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86), org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84), org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:365), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97), org.junit.runners.ParentRunner$4.run(ParentRunner.java:330), org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:78), org.junit.runners.ParentRunner.runChildren(ParentRunner.java:328), org.junit.runners.ParentRunner.access$100(ParentRunner.java:65), org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:292), org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61), org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70), org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:305), org.junit.runners.ParentRunner.run(ParentRunner.java:412), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190), org.junit.runner.JUnitCore.run(JUnitCore.java:137), com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68), com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47), com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242), com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)]
2019-10-08 09:45:55,376 INFO com.danapprentech.promotion.controllers.CouponController [main] coupon does not exist with coupon id: xxx
2019-10-08 09:46:25,760 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 5974 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 09:46:25,762 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 09:46:25,762 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 09:46:31,340 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.193 seconds (JVM running for 7.69)
2019-10-08 09:46:31,637 INFO com.danapprentech.promotion.controllers.CouponController [main] try to get detail coupon
2019-10-08 09:46:31,652 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(93518808<open>)
2019-10-08 09:46:31,653 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] start query from Coupon where coupon_id = '01' 
2019-10-08 09:46:31,793 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.getCouponDetailsById(CouponRepository.java:53), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$de59361d.getCouponDetailsById(<generated>), com.danapprentech.promotion.services.implementations.CouponService.getCouponDetailsById(CouponService.java:22), com.danapprentech.promotion.controllers.CouponController.getCouponDetailBasedOnCouponID(CouponController.java:52), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897), javax.servlet.http.HttpServlet.service(HttpServlet.java:634), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182), com.danapprentech.promotion.test.controller.ControllerTest.getCouponDetailTest_Empty(ControllerTest.java:74), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59), org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12), org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56), org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17), org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74), org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84), org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26), org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75), org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86), org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84), org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:365), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97), org.junit.runners.ParentRunner$4.run(ParentRunner.java:330), org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:78), org.junit.runners.ParentRunner.runChildren(ParentRunner.java:328), org.junit.runners.ParentRunner.access$100(ParentRunner.java:65), org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:292), org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61), org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70), org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:305), org.junit.runners.ParentRunner.run(ParentRunner.java:412), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190), org.junit.runner.JUnitCore.run(JUnitCore.java:137), com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68), com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47), com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242), com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)]
2019-10-08 09:46:31,795 INFO com.danapprentech.promotion.controllers.CouponController [main] coupon does not exist with coupon id: 01
2019-10-08 10:00:40,565 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 7584 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:00:40,567 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:00:40,567 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 10:00:48,961 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 9.076 seconds (JVM running for 10.593)
2019-10-08 10:00:49,379 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(1787868648<open>)
2019-10-08 10:00:49,388 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.saveOrUpdate(CouponRepository.java:160), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$de59361d.saveOrUpdate(<generated>), com.danapprentech.promotion.services.implementations.CouponService.saveOrUpdateCoupon(CouponService.java:38), com.danapprentech.promotion.controllers.CouponController.createCoupon(CouponController.java:121), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182), com.danapprentech.promotion.test.controller.ControllerTest.createNewCouponTest_Success(ControllerTest.java:149), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59), org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12), org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56), org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17), org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74), org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84), org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26), org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75), org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86), org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84), org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:365), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97), org.junit.runners.ParentRunner$4.run(ParentRunner.java:330), org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:78), org.junit.runners.ParentRunner.runChildren(ParentRunner.java:328), org.junit.runners.ParentRunner.access$100(ParentRunner.java:65), org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:292), org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61), org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70), org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:305), org.junit.runners.ParentRunner.run(ParentRunner.java:412), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190), org.junit.runner.JUnitCore.run(JUnitCore.java:137), com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68), com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47), com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242), com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)]
2019-10-08 10:00:49,396 INFO com.danapprentech.promotion.controllers.CouponController [main] Created coupon failed
2019-10-08 10:01:50,319 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 7822 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:01:50,320 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:01:50,320 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 10:01:57,703 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 7.935 seconds (JVM running for 10.071)
2019-10-08 10:03:06,292 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 8097 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:03:06,294 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:03:06,314 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 10:03:12,014 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.342 seconds (JVM running for 7.637)
2019-10-08 10:20:58,381 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 10781 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:20:58,383 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:20:58,383 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 10:21:04,051 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.225 seconds (JVM running for 7.709)
2019-10-08 10:21:04,526 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(347403362<open>)
2019-10-08 10:21:04,538 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [main] Entity manager SessionImpl(1413580852<open>)
2019-10-08 10:21:04,799 INFO com.danapprentech.promotion.repositories.implementations.CouponHistoryRepository [main] Entity manager SessionImpl(257655284<open>)
2019-10-08 10:21:04,808 INFO com.danapprentech.promotion.controllers.CouponController [main] Created coupon success
2019-10-08 10:21:19,059 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 10853 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:21:19,061 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:21:19,061 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 10:21:23,764 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 5.208 seconds (JVM running for 6.632)
2019-10-08 10:21:24,073 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(641941744<open>)
2019-10-08 10:21:24,080 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.saveOrUpdate(CouponRepository.java:160), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$51800ed6.saveOrUpdate(<generated>), com.danapprentech.promotion.services.implementations.CouponService.saveOrUpdateCoupon(CouponService.java:38), com.danapprentech.promotion.controllers.CouponController.createCoupon(CouponController.java:121), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182), com.danapprentech.promotion.test.controller.ControllerTest.createNewCouponTest_Failed(ControllerTest.java:183), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59), org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12), org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56), org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17), org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74), org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84), org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26), org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75), org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86), org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84), org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:365), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97), org.junit.runners.ParentRunner$4.run(ParentRunner.java:330), org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:78), org.junit.runners.ParentRunner.runChildren(ParentRunner.java:328), org.junit.runners.ParentRunner.access$100(ParentRunner.java:65), org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:292), org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61), org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70), org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:305), org.junit.runners.ParentRunner.run(ParentRunner.java:412), org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190), org.junit.runner.JUnitCore.run(JUnitCore.java:137), com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68), com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47), com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242), com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)]
2019-10-08 10:21:24,083 INFO com.danapprentech.promotion.controllers.CouponController [main] Created coupon failed
2019-10-08 10:31:59,035 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Starting RepositoryTest on Amsal with PID 12994 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:31:59,037 DEBUG com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:31:59,037 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] The following profiles are active: prod
2019-10-08 10:32:04,680 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Started RepositoryTest in 6.175 seconds (JVM running for 7.646)
2019-10-08 10:32:04,935 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(1058238991<open>)
2019-10-08 10:32:13,818 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Starting RepositoryTest on Amsal with PID 13047 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:32:13,820 DEBUG com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:32:13,820 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] The following profiles are active: prod
2019-10-08 10:32:18,615 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Started RepositoryTest in 5.294 seconds (JVM running for 6.647)
2019-10-08 10:32:18,846 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(1058238991<open>)
2019-10-08 10:32:50,222 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Starting RepositoryTest on Amsal with PID 13192 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:32:50,224 DEBUG com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:32:50,225 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] The following profiles are active: prod
2019-10-08 10:32:54,886 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Started RepositoryTest in 5.156 seconds (JVM running for 6.495)
2019-10-08 10:36:52,428 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Starting RepositoryTest on Amsal with PID 14033 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 10:36:52,431 DEBUG com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 10:36:52,431 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] The following profiles are active: prod
2019-10-08 10:36:57,775 INFO com.danapprentech.promotion.test.repository.CouponRepositoryTest [main] Started RepositoryTest in 5.892 seconds (JVM running for 7.288)
2019-10-08 11:16:47,622 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Starting McouponControllerTest on Amsal with PID 21801 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 11:16:47,624 DEBUG com.danapprentech.promotion.test.controller.McouponControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 11:16:47,624 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] The following profiles are active: prod
2019-10-08 11:16:53,002 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Started McouponControllerTest in 5.918 seconds (JVM running for 7.414)
2019-10-08 11:18:06,036 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Starting McouponControllerTest on Amsal with PID 22074 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 11:18:06,038 DEBUG com.danapprentech.promotion.test.controller.McouponControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 11:18:06,038 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] The following profiles are active: prod
2019-10-08 11:18:10,874 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Started McouponControllerTest in 5.376 seconds (JVM running for 6.765)
2019-10-08 11:19:24,443 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Starting McouponControllerTest on Amsal with PID 22353 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 11:19:24,445 DEBUG com.danapprentech.promotion.test.controller.McouponControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 11:19:24,445 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] The following profiles are active: prod
2019-10-08 11:19:29,740 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Started McouponControllerTest in 5.829 seconds (JVM running for 7.269)
2019-10-08 11:20:05,752 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Starting McouponControllerTest on Amsal with PID 22500 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 11:20:05,756 DEBUG com.danapprentech.promotion.test.controller.McouponControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 11:20:05,756 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] The following profiles are active: prod
2019-10-08 11:20:11,509 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Started McouponControllerTest in 6.324 seconds (JVM running for 7.818)
2019-10-08 11:20:58,177 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Starting McouponControllerTest on Amsal with PID 22676 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 11:20:58,178 DEBUG com.danapprentech.promotion.test.controller.McouponControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 11:20:58,178 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] The following profiles are active: prod
2019-10-08 11:21:03,119 INFO com.danapprentech.promotion.test.controller.McouponControllerTest [main] Started McouponControllerTest in 5.477 seconds (JVM running for 6.83)
2019-10-08 11:39:52,854 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 26294 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 11:39:52,856 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 11:39:52,856 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 11:39:57,430 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 4.839 seconds (JVM running for 6.695)
2019-10-08 11:40:18,319 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-1] try to update coupon status to be true
2019-10-08 11:40:18,338 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(1818363285<open>)
2019-10-08 11:40:18,346 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(181475185<open>)
2019-10-08 11:40:18,464 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-1] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$e3a70033.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:40:18,466 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:40:18,467 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-1] generate new coupon for new member failed
2019-10-08 11:40:35,288 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] try to update coupon status to be true
2019-10-08 11:40:35,291 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1455055825<open>)
2019-10-08 11:40:35,293 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1484625782<open>)
2019-10-08 11:40:35,296 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$e3a70033.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:40:35,297 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:40:35,298 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] generate new coupon for new member failed
2019-10-08 11:40:54,865 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] try to update coupon status to be true
2019-10-08 11:40:54,867 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(720935330<open>)
2019-10-08 11:40:54,869 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1878655641<open>)
2019-10-08 11:40:54,877 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$e3a70033.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:40:54,878 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:40:54,879 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] generate new coupon for new member failed
2019-10-08 11:41:30,232 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-4] try to update coupon status to be true
2019-10-08 11:41:30,236 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-4] Entity manager SessionImpl(1266622329<open>)
2019-10-08 11:41:30,237 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-4] Entity manager SessionImpl(1169750118<open>)
2019-10-08 11:41:30,240 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-4] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$e3a70033.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:30,241 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-4] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:30,243 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-4] generate new coupon for new member failed
2019-10-08 11:41:40,663 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-5] try to update coupon status to be true
2019-10-08 11:41:40,666 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(1425015346<open>)
2019-10-08 11:41:40,668 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(1513617116<open>)
2019-10-08 11:41:40,671 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-5] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$e3a70033.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:40,672 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:40,673 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-5] generate new coupon for new member failed
2019-10-08 11:41:42,792 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-6] try to update coupon status to be true
2019-10-08 11:41:42,794 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Entity manager SessionImpl(1838645343<open>)
2019-10-08 11:41:42,796 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-6] Entity manager SessionImpl(1753085292<open>)
2019-10-08 11:41:42,799 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-6] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$e3a70033.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:42,800 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:42,801 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-6] generate new coupon for new member failed
2019-10-08 11:41:43,381 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-7] try to update coupon status to be true
2019-10-08 11:41:43,383 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-7] Entity manager SessionImpl(20927600<open>)
2019-10-08 11:41:43,384 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-7] Entity manager SessionImpl(267958823<open>)
2019-10-08 11:41:43,393 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-7] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$e3a70033.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:43,395 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-7] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:43,397 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-7] generate new coupon for new member failed
2019-10-08 11:41:43,833 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-8] try to update coupon status to be true
2019-10-08 11:41:43,835 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-8] Entity manager SessionImpl(1701171192<open>)
2019-10-08 11:41:43,837 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-8] Entity manager SessionImpl(543640880<open>)
2019-10-08 11:41:43,839 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-8] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$e3a70033.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:43,841 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-8] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:41:43,842 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-8] generate new coupon for new member failed
2019-10-08 11:41:44,166 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-9] try to update coupon status to be true
2019-10-08 11:41:44,168 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-9] Entity manager SessionImpl(1627816037<open>)
2019-10-08 11:41:53,828 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8084-exec-9] HikariPool-1 - Interrupted during connection acquisition
2019-10-08 11:41:53,899 ERROR org.springframework.transaction.interceptor.TransactionInterceptor [http-nio-8084-exec-9] Application exception overridden by rollback exception
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.AutoConfigurationPackages': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:606)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:340)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:168)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:150)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$14660c64.firstCoupon(<generated>)
	at com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54)
	at com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:228)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:835)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.AutoConfigurationPackages': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 75 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.AutoConfigurationPackages': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:510)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.autoconfigure.AutoConfigurationPackages.get(AutoConfigurationPackages.java:74)
	at org.springframework.boot.autoconfigure.AutoConfigurationPackages.has(AutoConfigurationPackages.java:63)
	at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.getPackagesToScan(JpaBaseConfiguration.java:154)
	at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:136)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$6190b081.CGLIB$entityManagerFactory$5(<generated>)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$6190b081$$FastClassBySpringCGLIB$$ec05cf48.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$6190b081.entityManagerFactory(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 76 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:251)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1097)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:504)
	... 94 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:771)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:294)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:414)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	... 116 common frames omitted
2019-10-08 11:41:53,900 WARN com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-9] Error: Session/EntityManager is closed
2019-10-08 11:41:53,900 WARN com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-9] Stacktrace: org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:360)
2019-10-08 11:41:59,827 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 26773 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 11:41:59,828 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 11:41:59,828 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 11:42:04,563 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 5.004 seconds (JVM running for 6.839)
2019-10-08 11:42:12,384 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-1] try to update coupon status to be true
2019-10-08 11:42:12,405 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(975739027<open>)
2019-10-08 11:42:12,414 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(2080659571<open>)
2019-10-08 11:42:12,525 WARN com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-1] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository.getCouponNewMember(MasterCouponRepository.java:137), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$FastClassBySpringCGLIB$$96ab7260.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.MasterCouponRepository$$EnhancerBySpringCGLIB$$c9f3d459.getCouponNewMember(<generated>), com.danapprentech.promotion.services.implementations.MasterCouponService.getCouponNewMember(MasterCouponService.java:38), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:269), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$f98e5d6b.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:229), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:42:12,526 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Error: null - [com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$f98e5d6b.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:229), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:42:12,528 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-1] generate new coupon for new member failed
2019-10-08 11:42:42,413 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] try to update coupon status to be true
2019-10-08 11:42:42,415 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1090442664<open>)
2019-10-08 11:42:42,416 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1312371655<open>)
2019-10-08 11:42:42,442 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(2104678662<open>)
2019-10-08 11:42:42,446 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where member_id = 'USR-00'and m_coupon_id='MCPN-e4770f4c-0d5d-4abe-a508-f666721abce9' 
2019-10-08 11:42:42,454 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.checkForNewMember(CouponRepository.java:307), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$f98e5d6b.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:229), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:42:42,483 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] generate new coupon for new member success
2019-10-08 11:43:11,517 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] try to update coupon status to be true
2019-10-08 11:43:11,520 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1079314583<open>)
2019-10-08 11:43:11,522 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1318256365<open>)
2019-10-08 11:43:11,525 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(528045540<open>)
2019-10-08 11:43:11,526 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where member_id = 'USR-00'and m_coupon_id='MCPN-e4770f4c-0d5d-4abe-a508-f666721abce9' 
2019-10-08 11:43:11,528 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] SessionImpl(528045540<open>)
2019-10-08 11:43:11,530 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] generate new coupon for new member failed
2019-10-08 11:43:15,302 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-4] try to update coupon status to be true
2019-10-08 11:43:15,304 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-4] Entity manager SessionImpl(235879781<open>)
2019-10-08 11:43:15,305 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-4] Entity manager SessionImpl(1259184832<open>)
2019-10-08 11:43:15,308 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-4] Entity manager SessionImpl(2115103987<open>)
2019-10-08 11:43:15,308 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-4] start query from Coupon where member_id = 'USR-200'and m_coupon_id='MCPN-e4770f4c-0d5d-4abe-a508-f666721abce9' 
2019-10-08 11:43:15,312 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-4] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.checkForNewMember(CouponRepository.java:307), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$f98e5d6b.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:229), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:43:15,317 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-4] generate new coupon for new member success
2019-10-08 11:43:42,434 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-5] try to update coupon status to be true
2019-10-08 11:43:42,436 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(1319778004<open>)
2019-10-08 11:43:42,437 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(501386490<open>)
2019-10-08 11:43:42,440 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(469675426<open>)
2019-10-08 11:43:42,440 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] start query from Coupon where member_id = 'USR-30f3e098-bf8b-4409-b652-094098f858f5'and m_coupon_id='MCPN-e4770f4c-0d5d-4abe-a508-f666721abce9' 
2019-10-08 11:43:42,444 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.checkForNewMember(CouponRepository.java:307), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$f98e5d6b.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:229), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:43:42,449 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-5] generate new coupon for new member success
2019-10-08 11:44:19,218 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-8] try to update coupon status to be true
2019-10-08 11:44:19,220 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-8] Entity manager SessionImpl(1266622329<open>)
2019-10-08 11:44:19,222 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-8] Entity manager SessionImpl(1169750118<open>)
2019-10-08 11:44:19,225 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-8] Entity manager SessionImpl(1177653597<open>)
2019-10-08 11:44:19,225 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-8] start query from Coupon where member_id = 'USR-654b2ae3-a438-44fb-8c92-a6580f6095d2'and m_coupon_id='MCPN-e4770f4c-0d5d-4abe-a508-f666721abce9' 
2019-10-08 11:44:19,229 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-8] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.checkForNewMember(CouponRepository.java:307), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$f98e5d6b.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:229), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:44:19,235 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-8] generate new coupon for new member success
2019-10-08 11:48:35,264 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-10] try to update coupon status to be true
2019-10-08 11:48:35,269 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-10] Entity manager SessionImpl(378817332<open>)
2019-10-08 11:48:35,271 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-10] Entity manager SessionImpl(408135574<open>)
2019-10-08 11:48:35,274 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-10] Entity manager SessionImpl(359564839<open>)
2019-10-08 11:48:35,274 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-10] start query from Coupon where member_id = 'USR-1da81d17-c5bf-416d-b87d-2da81f2588e7'and m_coupon_id='MCPN-e4770f4c-0d5d-4abe-a508-f666721abce9' 
2019-10-08 11:48:35,279 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-10] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.CouponRepository.checkForNewMember(CouponRepository.java:307), com.danapprentech.promotion.repositories.implementations.CouponRepository.firstCoupon(CouponRepository.java:270), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$f98e5d6b.firstCoupon(<generated>), com.danapprentech.promotion.services.implementations.CouponService.firstCoupon(CouponService.java:54), com.danapprentech.promotion.controllers.CouponController.createCouponForNewMember(CouponController.java:229), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908), javax.servlet.http.HttpServlet.service(HttpServlet.java:660), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 11:48:35,283 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-10] generate new coupon for new member success
2019-10-08 14:49:16,448 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 42020 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 14:49:16,449 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 14:49:16,450 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 14:49:21,060 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 4.85 seconds (JVM running for 6.79)
2019-10-08 14:49:37,206 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] try to get detail coupon
2019-10-08 14:49:37,226 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1960497805<open>)
2019-10-08 14:49:37,228 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-7ee6dc44-8038-49ac-87be-eb0bc1509a63' 
2019-10-08 14:49:37,352 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1301016598<open>)
2019-10-08 14:49:37,368 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(1960497805<open>)
2019-10-08 14:49:37,369 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 14:49:37,371 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] coupon exist with coupon id: TCPN-7ee6dc44-8038-49ac-87be-eb0bc1509a63
2019-10-08 14:50:09,525 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] try to update coupon status
2019-10-08 14:50:09,527 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(65101071<open>)
2019-10-08 14:50:09,528 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(335352686<open>)
2019-10-08 14:50:09,528 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 14:50:09,535 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(604199335<open>)
2019-10-08 14:50:09,538 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] SessionImpl(335352686<open>)
2019-10-08 14:50:09,539 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 14:50:09,558 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1829033683<open>)
2019-10-08 14:50:09,558 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 14:51:00,713 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8084-exec-3] Lock wait timeout exceeded; try restarting transaction
2019-10-08 14:51:00,721 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Rollback transaction
2019-10-08 14:51:00,723 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Error: could not extract ResultSet - [org.hibernate.internal.ExceptionConverterImpl.wrapLockException(ExceptionConverterImpl.java:273), org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:108), org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1515), org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1554), com.danapprentech.promotion.repositories.implementations.CouponRepository.getCouponDetailsById(CouponRepository.java:52), com.danapprentech.promotion.repositories.implementations.CouponRepository.updateStatus(CouponRepository.java:230), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$a6539b1e.updateStatus(<generated>), com.danapprentech.promotion.services.implementations.CouponService.updateStatus(CouponService.java:47), com.danapprentech.promotion.services.implementations.CouponService$$FastClassBySpringCGLIB$$2d2ac717.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.services.implementations.CouponService$$EnhancerBySpringCGLIB$$2311bce9.updateStatus(<generated>), com.danapprentech.promotion.controllers.CouponController.couponRedeem(CouponController.java:157), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:919), javax.servlet.http.HttpServlet.service(HttpServlet.java:663), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 14:51:00,725 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 14:51:00,727 WARN com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] Error: null
2019-10-08 14:51:00,727 WARN com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] Stacktrace: com.danapprentech.promotion.controllers.CouponController.couponRedeem(CouponController.java:158)
2019-10-08 14:52:44,305 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-6] try to update coupon status
2019-10-08 14:52:44,308 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Entity manager SessionImpl(64196437<open>)
2019-10-08 14:52:44,309 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Entity manager SessionImpl(219439455<open>)
2019-10-08 14:52:44,309 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 14:52:44,316 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-6] Entity manager SessionImpl(5312076<open>)
2019-10-08 14:52:44,319 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] SessionImpl(219439455<open>)
2019-10-08 14:52:44,321 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Commit transaction
2019-10-08 14:52:44,333 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Entity manager SessionImpl(1315257745<open>)
2019-10-08 14:52:44,333 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 14:53:35,026 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8084-exec-6] Lock wait timeout exceeded; try restarting transaction
2019-10-08 14:53:35,027 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Rollback transaction
2019-10-08 14:53:35,029 WARN com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Error: could not extract ResultSet - [org.hibernate.internal.ExceptionConverterImpl.wrapLockException(ExceptionConverterImpl.java:273), org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:108), org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1515), org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1554), com.danapprentech.promotion.repositories.implementations.CouponRepository.getCouponDetailsById(CouponRepository.java:52), com.danapprentech.promotion.repositories.implementations.CouponRepository.updateStatus(CouponRepository.java:230), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$a6539b1e.updateStatus(<generated>), com.danapprentech.promotion.services.implementations.CouponService.updateStatus(CouponService.java:47), com.danapprentech.promotion.services.implementations.CouponService$$FastClassBySpringCGLIB$$2d2ac717.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.services.implementations.CouponService$$EnhancerBySpringCGLIB$$2311bce9.updateStatus(<generated>), com.danapprentech.promotion.controllers.CouponController.couponRedeem(CouponController.java:157), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:919), javax.servlet.http.HttpServlet.service(HttpServlet.java:663), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 14:53:35,036 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-6] Commit transaction
2019-10-08 14:53:35,036 WARN com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-6] Error: null
2019-10-08 14:53:35,037 WARN com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-6] Stacktrace: com.danapprentech.promotion.controllers.CouponController.couponRedeem(CouponController.java:158)
2019-10-08 14:57:55,896 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 43678 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 14:57:55,897 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 14:57:55,898 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 14:58:00,207 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 4.542 seconds (JVM running for 6.288)
2019-10-08 14:58:14,670 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 43746 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 14:58:14,674 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 14:58:14,675 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 14:58:19,486 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 5.209 seconds (JVM running for 6.219)
2019-10-08 14:58:20,770 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-1] try to update coupon status
2019-10-08 14:58:20,786 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(1143752494<open>)
2019-10-08 14:58:20,789 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(442513787<open>)
2019-10-08 14:58:20,789 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 14:58:20,906 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(1054456264<open>)
2019-10-08 14:58:20,916 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] SessionImpl(442513787<open>)
2019-10-08 14:58:20,917 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Commit transaction
2019-10-08 14:58:20,942 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Commit transaction
2019-10-08 14:58:20,943 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(1889748829<open>)
2019-10-08 14:58:20,944 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 14:58:20,946 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(1542501462<open>)
2019-10-08 14:58:20,949 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] SessionImpl(1889748829<open>)
2019-10-08 14:58:20,949 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Commit transaction
2019-10-08 14:58:20,950 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-1] update coupon status success
2019-10-08 15:00:47,958 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-5] try to update coupon status
2019-10-08 15:00:47,961 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(377947692<open>)
2019-10-08 15:00:47,962 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(1501421751<open>)
2019-10-08 15:00:47,962 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:00:47,966 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(1731664043<open>)
2019-10-08 15:00:47,970 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] SessionImpl(1501421751<open>)
2019-10-08 15:00:47,971 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Commit transaction
2019-10-08 15:00:47,975 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Commit transaction
2019-10-08 15:00:47,976 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(2096354804<open>)
2019-10-08 15:00:47,976 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:00:47,979 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-5] Entity manager SessionImpl(898201986<open>)
2019-10-08 15:00:47,981 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] SessionImpl(2096354804<open>)
2019-10-08 15:00:47,982 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-5] Commit transaction
2019-10-08 15:00:47,983 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-5] update coupon status success
2019-10-08 15:01:23,421 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 44351 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 15:01:23,422 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 15:01:23,422 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 15:01:27,965 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 4.765 seconds (JVM running for 6.449)
2019-10-08 15:01:45,149 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] try to update coupon status
2019-10-08 15:01:45,179 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(689533876<open>)
2019-10-08 15:01:45,187 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(345094888<open>)
2019-10-08 15:01:45,188 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:01:45,379 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1093173995<open>)
2019-10-08 15:01:45,394 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(345094888<open>)
2019-10-08 15:01:45,396 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:01:45,397 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:01:45,398 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1290671489<open>)
2019-10-08 15:01:45,398 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:01:45,404 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(319565868<open>)
2019-10-08 15:01:45,406 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(1290671489<open>)
2019-10-08 15:01:45,406 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:01:45,407 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] update coupon status failed
2019-10-08 15:02:18,977 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] try to update coupon status
2019-10-08 15:02:18,980 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1728460036<open>)
2019-10-08 15:02:18,982 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(687660463<open>)
2019-10-08 15:02:18,982 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:02:18,985 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(362268976<open>)
2019-10-08 15:02:18,989 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] SessionImpl(687660463<open>)
2019-10-08 15:02:18,990 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 15:02:18,993 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 15:02:18,994 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(549929948<open>)
2019-10-08 15:02:18,994 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:02:18,998 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(677126734<open>)
2019-10-08 15:02:19,000 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] SessionImpl(549929948<open>)
2019-10-08 15:02:19,001 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 15:02:19,002 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] update coupon status failed
2019-10-08 15:07:21,980 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 45480 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 15:07:21,981 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 15:07:21,981 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 15:07:26,471 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 4.725 seconds (JVM running for 6.49)
2019-10-08 15:07:33,415 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] try to update coupon status
2019-10-08 15:07:33,438 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1904500385<open>)
2019-10-08 15:07:33,441 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(114987054<open>)
2019-10-08 15:07:33,442 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:07:33,571 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1453838358<open>)
2019-10-08 15:07:33,597 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(114987054<open>)
2019-10-08 15:07:33,598 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:07:33,620 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:07:33,621 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1582555731<open>)
2019-10-08 15:07:33,621 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:07:33,624 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(182520161<open>)
2019-10-08 15:07:33,626 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(1582555731<open>)
2019-10-08 15:07:33,627 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:07:33,627 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] update coupon status success
2019-10-08 15:16:44,059 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 47340 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 15:16:44,061 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 15:16:44,061 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 15:16:48,370 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 4.53 seconds (JVM running for 6.3)
2019-10-08 15:16:51,221 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] try to update coupon status
2019-10-08 15:16:51,247 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(615673187<open>)
2019-10-08 15:16:51,252 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1677694143<open>)
2019-10-08 15:16:51,252 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:16:51,405 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(2076314209<open>)
2019-10-08 15:16:51,422 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(1677694143<open>)
2019-10-08 15:16:51,423 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:16:51,445 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:16:51,446 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(609544529<open>)
2019-10-08 15:16:51,446 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:16:51,449 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1639597629<open>)
2019-10-08 15:16:51,452 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(609544529<open>)
2019-10-08 15:16:51,453 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 15:16:51,455 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] update coupon status success
2019-10-08 15:17:00,359 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] try to update coupon status
2019-10-08 15:17:00,364 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1227611781<open>)
2019-10-08 15:17:00,366 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(114373611<open>)
2019-10-08 15:17:00,366 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:17:00,369 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1072468275<open>)
2019-10-08 15:17:00,373 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] SessionImpl(114373611<open>)
2019-10-08 15:17:00,375 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 15:17:00,379 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 15:17:00,383 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(4372640<open>)
2019-10-08 15:17:00,383 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 15:17:00,388 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(416944401<open>)
2019-10-08 15:17:00,393 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] SessionImpl(4372640<open>)
2019-10-08 15:17:00,395 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 15:17:00,396 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] update coupon status success
2019-10-08 15:20:05,582 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 47988 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 15:20:05,584 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 15:20:05,584 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 15:20:10,654 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.542 seconds (JVM running for 7.886)
2019-10-08 15:20:11,005 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(394581777<open>)
2019-10-08 15:20:11,020 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [main] Entity manager SessionImpl(493102722<open>)
2019-10-08 15:20:11,189 INFO com.danapprentech.promotion.repositories.implementations.CouponHistoryRepository [main] Entity manager SessionImpl(1847234168<open>)
2019-10-08 15:20:11,195 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Commit transaction
2019-10-08 15:20:11,197 INFO com.danapprentech.promotion.controllers.CouponController [main] Created coupon success
2019-10-08 15:35:12,692 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 51029 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 15:35:12,693 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 15:35:12,694 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 15:35:19,322 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 8.13 seconds (JVM running for 9.758)
2019-10-08 15:35:19,976 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(394581777<open>)
2019-10-08 15:35:19,996 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [main] Entity manager SessionImpl(493102722<open>)
2019-10-08 15:35:20,234 INFO com.danapprentech.promotion.repositories.implementations.CouponHistoryRepository [main] Entity manager SessionImpl(1847234168<open>)
2019-10-08 15:35:20,240 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Commit transaction
2019-10-08 15:35:20,242 INFO com.danapprentech.promotion.controllers.CouponController [main] Created coupon success
2019-10-08 15:43:31,029 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Starting ControllerTest on Amsal with PID 52643 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 15:43:31,031 DEBUG com.danapprentech.promotion.test.controller.ControllerTest [main] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 15:43:31,031 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] The following profiles are active: prod
2019-10-08 15:43:36,260 INFO com.danapprentech.promotion.test.controller.ControllerTest [main] Started ControllerTest in 6.684 seconds (JVM running for 8.116)
2019-10-08 15:43:36,576 INFO com.danapprentech.promotion.controllers.CouponController [main] try to update coupon status to be true
2019-10-08 15:43:36,598 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(1004498275<open>)
2019-10-08 15:43:36,614 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [main] Entity manager SessionImpl(1983947153<open>)
2019-10-08 15:43:36,776 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Entity manager SessionImpl(604571698<open>)
2019-10-08 15:43:36,784 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] start query from Coupon where member_id = 'USR-Test1'and m_coupon_id='MCPN-e4770f4c-0d5d-4abe-a508-f666721abce9' 
2019-10-08 15:43:36,793 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] SessionImpl(604571698<open>)
2019-10-08 15:43:36,794 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Commit transaction
2019-10-08 15:43:36,794 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [main] Commit transaction
2019-10-08 15:43:36,795 INFO com.danapprentech.promotion.controllers.CouponController [main] generate new coupon for new member failed
2019-10-08 16:02:13,443 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 56351 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 16:02:13,445 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 16:02:13,445 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 16:02:19,059 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 5.946 seconds (JVM running for 7.847)
2019-10-08 16:02:48,383 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-1] try to update coupon status
2019-10-08 16:02:48,401 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(1987638080<open>)
2019-10-08 16:02:48,407 INFO com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository [http-nio-8084-exec-1] Entity manager SessionImpl(513069331<open>)
2019-10-08 16:02:48,531 WARN com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository [http-nio-8084-exec-1] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository.getRedeemHistoryByPaymentId(RedeemHistoryRepository.java:38), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository$$FastClassBySpringCGLIB$$b5266eb4.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository$$EnhancerBySpringCGLIB$$cf2be4f4.getRedeemHistoryByPaymentId(<generated>), com.danapprentech.promotion.services.implementations.RedeemHistoryService.getRedeemHistoryByPaymentId(RedeemHistoryService.java:16), com.danapprentech.promotion.repositories.implementations.CouponRepository.updateStatus(CouponRepository.java:223), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$c7f2c496.updateStatus(<generated>), com.danapprentech.promotion.services.implementations.CouponService.updateStatus(CouponService.java:47), com.danapprentech.promotion.services.implementations.CouponService$$FastClassBySpringCGLIB$$2d2ac717.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.services.implementations.CouponService$$EnhancerBySpringCGLIB$$44b0e661.updateStatus(<generated>), com.danapprentech.promotion.controllers.CouponController.couponRedeem(CouponController.java:157), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:919), javax.servlet.http.HttpServlet.service(HttpServlet.java:663), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 16:02:48,534 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Commit transaction
2019-10-08 16:02:48,535 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(36621174<open>)
2019-10-08 16:02:48,536 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 16:02:48,559 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-1] Entity manager SessionImpl(718141152<open>)
2019-10-08 16:02:48,569 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] SessionImpl(36621174<open>)
2019-10-08 16:02:48,570 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-1] Commit transaction
2019-10-08 16:02:48,571 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-1] update coupon status failed
2019-10-08 16:04:10,745 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Starting PromotionApplication on Amsal with PID 56741 (started by amsaljayadisihombing in /Users/amsaljayadisihombing/Documents/DANA/Dana Pulsa/Program/dtc_promotion)
2019-10-08 16:04:10,746 DEBUG com.danapprentech.promotion.PromotionApplication [restartedMain] Running with Spring Boot v2.1.8.RELEASE, Spring v5.1.9.RELEASE
2019-10-08 16:04:10,747 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] The following profiles are active: prod
2019-10-08 16:04:15,077 INFO com.danapprentech.promotion.PromotionApplication [restartedMain] Started PromotionApplication in 4.578 seconds (JVM running for 6.323)
2019-10-08 16:04:19,692 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] try to update coupon status
2019-10-08 16:04:19,748 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(90020745<open>)
2019-10-08 16:04:19,762 INFO com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository [http-nio-8084-exec-2] Entity manager SessionImpl(2106929428<open>)
2019-10-08 16:04:19,970 WARN com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository [http-nio-8084-exec-2] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository.getRedeemHistoryByPaymentId(RedeemHistoryRepository.java:38), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository$$FastClassBySpringCGLIB$$b5266eb4.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository$$EnhancerBySpringCGLIB$$f7df97f5.getRedeemHistoryByPaymentId(<generated>), com.danapprentech.promotion.services.implementations.RedeemHistoryService.getRedeemHistoryByPaymentId(RedeemHistoryService.java:16), com.danapprentech.promotion.repositories.implementations.CouponRepository.updateStatus(CouponRepository.java:223), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$96e9d37e.updateStatus(<generated>), com.danapprentech.promotion.services.implementations.CouponService.updateStatus(CouponService.java:47), com.danapprentech.promotion.services.implementations.CouponService$$FastClassBySpringCGLIB$$2d2ac717.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.services.implementations.CouponService$$EnhancerBySpringCGLIB$$13a7f549.updateStatus(<generated>), com.danapprentech.promotion.controllers.CouponController.couponRedeem(CouponController.java:157), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:919), javax.servlet.http.HttpServlet.service(HttpServlet.java:663), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 16:04:19,977 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1843243257<open>)
2019-10-08 16:04:19,978 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 16:04:20,018 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(220250917<open>)
2019-10-08 16:04:20,045 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(1843243257<open>)
2019-10-08 16:04:20,047 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 16:04:20,084 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 16:04:20,091 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(85158995<open>)
2019-10-08 16:04:20,092 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 16:04:20,096 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-2] Entity manager SessionImpl(1371051367<open>)
2019-10-08 16:04:20,099 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] SessionImpl(85158995<open>)
2019-10-08 16:04:20,100 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-2] Commit transaction
2019-10-08 16:04:20,102 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-2] update coupon status success
2019-10-08 16:04:33,173 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] try to update coupon status
2019-10-08 16:04:33,178 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(2069419172<open>)
2019-10-08 16:04:33,179 INFO com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1046107563<open>)
2019-10-08 16:04:33,183 WARN com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository [http-nio-8084-exec-3] Error: No entity found for query - [org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1556), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository.getRedeemHistoryByPaymentId(RedeemHistoryRepository.java:38), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository$$FastClassBySpringCGLIB$$b5266eb4.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.RedeemHistoryRepository$$EnhancerBySpringCGLIB$$f7df97f5.getRedeemHistoryByPaymentId(<generated>), com.danapprentech.promotion.services.implementations.RedeemHistoryService.getRedeemHistoryByPaymentId(RedeemHistoryService.java:16), com.danapprentech.promotion.repositories.implementations.CouponRepository.updateStatus(CouponRepository.java:223), com.danapprentech.promotion.repositories.implementations.CouponRepository$$FastClassBySpringCGLIB$$927a5e.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.repositories.implementations.CouponRepository$$EnhancerBySpringCGLIB$$96e9d37e.updateStatus(<generated>), com.danapprentech.promotion.services.implementations.CouponService.updateStatus(CouponService.java:47), com.danapprentech.promotion.services.implementations.CouponService$$FastClassBySpringCGLIB$$2d2ac717.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688), com.danapprentech.promotion.services.implementations.CouponService$$EnhancerBySpringCGLIB$$13a7f549.updateStatus(<generated>), com.danapprentech.promotion.controllers.CouponController.couponRedeem(CouponController.java:157), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:567), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005), org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:919), javax.servlet.http.HttpServlet.service(HttpServlet.java:663), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882), javax.servlet.http.HttpServlet.service(HttpServlet.java:741), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:835)]
2019-10-08 16:04:33,185 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(340957130<open>)
2019-10-08 16:04:33,185 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 16:04:33,188 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(300657708<open>)
2019-10-08 16:04:33,191 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] SessionImpl(340957130<open>)
2019-10-08 16:04:33,193 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 16:04:33,195 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 16:04:33,196 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(1393352815<open>)
2019-10-08 16:04:33,196 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] start query from Coupon where coupon_id = 'TCPN-1094c2c6-499a-48c9-b3c0-c269a71a10a3' 
2019-10-08 16:04:33,199 INFO com.danapprentech.promotion.repositories.implementations.MasterCouponRepository [http-nio-8084-exec-3] Entity manager SessionImpl(816505790<open>)
2019-10-08 16:04:33,203 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] SessionImpl(1393352815<open>)
2019-10-08 16:04:33,204 INFO com.danapprentech.promotion.repositories.implementations.CouponRepository [http-nio-8084-exec-3] Commit transaction
2019-10-08 16:04:33,204 INFO com.danapprentech.promotion.controllers.CouponController [http-nio-8084-exec-3] update coupon status success
